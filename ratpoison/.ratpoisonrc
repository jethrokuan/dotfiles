definekey top C-M-r restart

set ignorehints on
set inputwidth 0
set msgwait 3
set barborder 0
set border 0
set warp off
set winfmt [%n] %s %t
set winname class

definekey top M-Tab next
definekey top M-ISO_Left_Tab prev

# Run or raise
alias runorraise exec ~/rpscripts/runorraise
alias emacs runorraise Emacs 'emacsclient -ca emacs'

alias rofi-show exec rofi -matching fuzzy -show run
alias rofi-files exec rofi  -show fb -matching fuzzy -modi fb:~/.rofi/rofi-file-finder.sh
alias rofi-pass exec rofi-pass

alias screenshot-to-clipboard  exec maim -s | xclip -selection clipboard -t image/png

definekey top s-e emacs
definekey top s-space rofi-show
definekey top C-s-space rofi-files
definekey top s-p rofi-pass

definekey top SunPrint_Screen screenshot-to-clipboard

definekey top s-h focusleft
definekey top s-t focusup
definekey top s-n focusdown
definekey top s-s focusright

definekey top s-H exchangeleft
definekey top s-T exchangeup
definekey top s-N exchangedown
definekey top s-S exchangeright

definekey top s-Left resize -20 0
definekey top s-Right resize 20 0
definekey top s-Up resize 0 20
definekey top s-Down resize 0 -20

# Emacs-like window management
bind 0 remove
bind 1 only
bind 2 split
bind 3 hsplit

bind f runorraise Firefox 'firefox'
bind s runorraise Spotify 'spotify'
bind T runorraise TelegramDesktop 'telegram-desktop'
bind equal time

definekey top XF86MonBrightnessDown exec xbacklight -dec 10
definekey top XF86MonBrightnessUp exec xbacklight -inc 10
definekey top XF86AudioLowerVolume exec amixer -q sset Master 3%-
definekey top XF86AudioRaiseVolume exec amixer -q sset Master 3%+
definekey top XF86AudioMute exec amixer -q sset Master toggle

addhook quit exec killall dzen2 && killall conky
set padding 0 0 0 26
exec conky | dzen2 -ta c -e 'sigusr1=hide;sigusr2=unhide' -h '26' -y '-26' -fn 'iosevka' &
exec nitrogen --restore
exec dropbox start

# Virtual Desktops
# setenv desktops code www media chat
# exec dnumb=0;for dname in `ratpoison -c "getenv desktops"`;do ratpoison -c 'alias selectgroup'$dnumb' exec ratpoison -c "gselect '$dnumb'" -c "echo []'$dname'"' -c 'alias switchtodesktop'$dnumb' exec tod='$dnumb';todname='$dname';fromd=`ratpoison -c "getenv desktop_cur"`; ratpoison -c "setenv desktop_$fromd `ratpoison -c fdump`" -c "setenv desktop_cur $tod" -c "gselect $tod"; restd=`ratpoison -c "getenv desktop_$tod"`; if [ -z "$restd" ]; then ratpoison -c "select -" -c only -c next; else ratpoison -c "frestore $restd"; fi; ratpoison -c "echo *$todname"' -c 'alias movetogroup'$dnumb' exec ratpoison -c "gmove '$dnumb'" -c "echo ->'$dname'"'; if [ "$dnumb" == 0 ]; then ratpoison -c "setenv desktop_cur $dnumb" -c "setenv desktop_$dnumb `ratpoison -c fdump`" -c "grename $dname"; else ratpoison -c "gnewbg $dname" -c "unsetenv desktop_$dnumb"; fi; dnumb=$(($dnumb+1));done

# definekey top s-1 switchtodesktop0
# definekey top s-2 switchtodesktop1
# definekey top s-3 switchtodesktop2
# definekey top s-4 switchtodesktop3

# switchtodesktop1